{
    "name": "nnU-Net Satellite Segmentation",
    // Istruzione a usare il Dockerfile in questa stessa cartella per la build
    "build": {
        "dockerfile": "Dockerfile"
    },
    // Specificare l'utente root è cruciale, come hai fatto in precedenza con Podman
    "remoteUser": "root",
    // Mappiamo la cartella locale (il repository Git) a /workspace nel container
    "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached",
    "workspaceFolder": "/workspace",
    
    // Configurazione che esegue un comando dopo la creazione del container
    "postCreateCommand": "nnunetv2_download_pretrained_weights",

    // Variabili d'ambiente da impostare (anche se sono già nel Dockerfile, è una buona pratica replicarle qui)
    "remoteEnv": {
        "NNUNET_RAW_DATA_BASE": "/workspace/nnUNet_raw",
        "NNUNET_PREPROCESSED_DATA_BASE": "/workspace/nnUNet_preprocessed",
        "NNUNET_RESULTS_BASE": "/workspace/nnUNET_results"
    }
}
